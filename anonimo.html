<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal das Cores - Mensagem An√¥nima</title>
    <link rel="stylesheet" href="anonimo.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Enriqueta:wght@600&display=swap" rel="stylesheet">
</head>
<body>

     <header>
        <div class="logo">
            <img src="logopura.jpg" alt="Logo Portal das Cores">
            <span>Portal das Cores</span>
        </div>

        <div class="menu-direita">
            <div class="menu-toggle" onclick="toggleMenu()">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>
            <nav id="main-nav">
                <a href="index.html">Home</a>
                <a href="contato.html">Contatos</a>
                <a href="localizacao.html">Localiza√ß√£o</a>
            </nav>
            <button id="theme-toggle" class="theme-btn" onclick="toggleTheme()">üåô</button>
        </div>
    </header>

    <main>
        <section class="anonimo-links">
            <h1>Deixe uma Mensagem</h1>
            <p class="anonimo-descricao">Mande uma mensagem sobre o que achou do site. Basta escrever no bloco amarelo e enviar.</p>
            
            <div class="postit-container">
                <form id="formAnonimo" class="postit">
                    <h3>Mensagem An√¥nima</h3>
                    <textarea name="mensagem" rows="8" required placeholder="Escreva sua mensagem aqui..."></textarea>
                    <button type="submit" class="postit-btn">Enviar</button>
                    <input type="hidden" name="_subject" value="Nova Mensagem An√¥nima (Post-it)">
                    <p id="statusAnonimo" class="status-msg"></p>
                </form>
            </div>
        </section>
    </main>

    <footer>
        <span>Portal das Cores Representa√ß√µes LTDA. 2025</span>
    </footer>

    <script>
        function toggleMenu() {
            const nav = document.getElementById('main-nav');
            nav.classList.toggle('active');
        }

     
        function toggleTheme() {
            const body = document.body;
            body.classList.toggle('dark-mode');

            
            const isDark = body.classList.contains('dark-mode');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');

           
            document.getElementById('theme-toggle').textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
        }

       
        window.onload = function() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                document.getElementById('theme-toggle').textContent = '‚òÄÔ∏è';
            }
        };

const formularioAnonimo = document.getElementById("formAnonimo");
const statusMsg = document.getElementById("statusAnonimo");

formularioAnonimo.addEventListener("submit", async function(e) {
    e.preventDefault();

    const textarea = document.querySelector("textarea[name='mensagem']");
    const texto = textarea.value.trim();
    const msgMinuscula = texto.toLowerCase();


    function erro(msg) {
        statusMsg.textContent = msg;
        statusMsg.style.color = "red";
    }

    function sucesso(msg) {
        statusMsg.textContent = msg;
        statusMsg.style.color = "green";
    }

    const proibidas = ["banana", "paspalho", "burro"];
    if (proibidas.some(p => msgMinuscula.includes(p))) {
        erro("Por favor, evite palavras ofensivas.");
        return;
    }

    const especial = ["gg gatinho", "gean gatinho", "gean ganhou de emerson no fifa"];
    if (especial.some(p => msgMinuscula.includes(p))) {
        erro("M√°ximo de respeitinho a Gean üòºüî•");
        return;
    }

    if (texto === texto.toUpperCase() && texto.length > 3) {
        erro("Evite enviar mensagens inteiramente em mai√∫sculas.");
        return;
    }

    if (texto.length > 300) {
        erro("Sua mensagem n√£o pode exceder 300 caracteres.");
        return;
    }

    if (texto.replace(/\s+/g, "").length === 0) {
        erro("A mensagem n√£o pode estar vazia.");
        return;
    }

    try {
        const response = await fetch("https://formspree.io/f/meorlonl", {
            method: "POST",
            headers: { "Accept": "application/json" },
            body: new FormData(formularioAnonimo)
        });

        if (response.ok) {
            sucesso("Mensagem enviada com sucesso!");
            textarea.value = "";
        } else {
            erro("Erro ao enviar a mensagem. Tente novamente.");
        }

    } catch (error) {
        erro("Erro de conex√£o. Verifique sua internet.");
    }
});

    </script>
